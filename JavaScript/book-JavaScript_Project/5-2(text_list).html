<!DOCTYPE html>
<html lang = 'en'>
<head>
	<meta charset = 'UTF-8'>
	<title>JavaScript</title>
	<script  src =https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js >
	</script>
	<style>
		#add-btn{
			padding : 5px 10px;
			border: 0;
			background: #f80;
			color : white;
			border-radius: 5px;
		}
		ul{
			padding: 0;
			list-style-type: inside;
		}
		li{
			border-bottom: 1px solid #999;
			padding: 5px, 0;
		}

		.active{
			background: #abc;
		}
		
	</style>
</head> 

<body>
	<h2> 작업목록 애플리케이션  </h2>
	<hr>

	<h1 id = 'title'>할일 목록</h1>
	<button id = add-btn>목록 추가</button>

	<ul id = list>
		<li>제목1</li>
		<li>제목2</li>
		<li>제목3</li>
		<li>제목4</li>
	</ul>
	<script>
		var title = document.getElementById('title');
		var list = document.getElementById('list');
		var li = list.getElementsByTagName('li');
		var addBtn = document.getElementById('add-btn');

		// for (var i = 0; i<li.length; i ++){
		// 	li[i].addEventListener('click', activeItem);
		// }


		// function activeItem(){
		// 	title.innerHTML = this.innerText;
			
		// 	for (var  i= 0; i < li.length; i++){
		// 		li[i].removeAttribute('class')
		// 	}
		// 	this.setAttribute('class', 'active');
		// };

		//이벤트 리스너
		list.addEventListener('click', activeItem)

		function activeItem(event){
			//클릭한 노드가 li이면
			if(event.target.nodeName == 'LI'){
				title.innerHTML = event.target.innerText;

				//목록 스타일 초기화
				for (var i= 0; i < event.target.parentNode.children.length; i++){
					event.target.parentNode.children[i].removeAttribute('class');
				}

				//클릭한 목록 스타일 지정
				event.target.setAttribute('class', 'active');
	
			}
		}
		
		//목록 추가
		addBtn.addEventListener('click', function(){
			var txt = prompt('제목입력');
			list.innerHTML += '<li>' + txt + '<li>';
		});
	</script>
</body> 
</html>